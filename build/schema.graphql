type Minion @entity {
  id: ID!
  createdAt: String!
  minionAddress: Bytes!
  molochAddress: Bytes!
  proposals: [Proposals!] @derivedFrom(field: "minion")
  balances: [Balances!] @derivedFrom(field: "minion")
  deposits: [Deposits!] @derivedFrom(field: "minion")
  withdraws:[Withdraws!] @derivedFrom(field: "minion")
  details: String!
  minionType: String!
}

type Proposals @entity{
  id: ID!
  minion: Minion!
  proposalId: BigInt!
  canceled: Boolean!
  executed: Boolean!
}

type Deposits @entity {
  id: ID!
  dao: Bytes! # address
  minion: Minion! # address
  proposal: Proposals!
  depositToken: [Token!] # address(es)
  recieptToken: Token # address
  amount: BigInt! # address
  protocol: Protocol!
  details: String
}

type Withdraws @entity {
  id: ID!
  dao: Bytes! # address
  minion: Minion! # address
  proposal: Proposals!
  withdrawToken: [Token!] # address
  recieptToken: Token # address
  amount: BigInt! # address
  protocol: Protocol!
  details: String
}

type Loans @entity {
  id: ID!
  dao: Bytes! # address
  minion: Minion! # address
  proposal: Proposals!
  withdrawToken: [Token!] # address
  recieptToken: Token # address
  amount: BigInt! # address
  protocol: Protocol! 
  details: String
}

type Token @entity {
  id: ID!
  minion: Minion!
  tokenAddress: Bytes!
  earningsStatus: Boolean # approved for use in earnings withdraws
  tag: String #tag as LP or aToken, etc
}

type Protocol @entity {
  id: ID! # address 
  protocolAddress: Bytes! #address 
  minion: Minion!
  name: String
}

type Balances @entity {
  id: ID! 
  minion: Minion!
  protocol: Protocol
  token: Token!
  balance: BigInt!
}


